<div class="card">
  <div class="card-header">
    Machine Monitoring
  </div>
  <div class="card-body">
<div class="radio-buttons">
    <label>
      <input type="radio" name="mode" value="with" [(ngModel)]="selection" (change)="resetCharts()" />
      With Order ID
    </label>
    <label>
      <input type="radio" name="mode" value="without" [(ngModel)]="selection" (change)="resetCharts()" />
      Without Order ID
    </label>
  </div>
<!-- Order ID Dropdown -->
  <div *ngIf="selection === 'with'" class="order-id-select">
    <label>Select Order ID:</label>
    <select [(ngModel)]="selectedOrderId" (change)="resetCharts()">
      <option value="">-- Select Order ID --</option>
      <option *ngFor="let id of orderIds" [value]="id">{{ id }}</option>
    </select>
  </div>

  <!-- With Order ID Dashboard -->
  <ng-container *ngIf="selection === 'with' && selectedOrderId">
    <div class="with-order-id">
      <div class="top-section">
        <div class="left-info">
          <h3>Machine</h3>
          <img [src]="machine.image" alt="Machine Image" class="machine-img" />
        </div>

        <div class="right-info">
          <!-- Combined STATE + STATE TIME Box -->
          <div class="stat-box state-time-box">
            <h4>{{ machine.state }}</h4>
            <p>State Time: {{ machine.stateTime }}</p>
          </div>

          <!-- Production stats -->
          <div class="stat-box production-today">
            <h4>{{ machine.productionToday }} m</h4>
            <p>Production today</p>
          </div>
          <div class="stat-box">
            <h4>{{ machine.productionWeek }} m</h4>
            <p>Production this week (Mon–Sun)</p>
          </div>
          <div class="stat-box">
            <h4>{{ machine.productionMonth }} m</h4>
            <p>Production in current month</p>
          </div>
           <div class="stat-box ">
            <h4>{{ machine.shift }}</h4>
            <p>Manpower Current Working Shift</p>
          </div>
          <div class="stat-box run-state-box">
            <h4>{{ machine.runTime }}</h4>
            <p>Machine RUN Time Today</p>
          </div>

          <!-- Idle and Power OFF stats -->
          <div class="stat-box orange">
            <h4>{{ machine.idleTime }}</h4>
            <p>Machine IDLE Time Today</p>
          </div>
          <div class="stat-box red">
            <h4>{{ machine.offTime }}</h4>
            <p>Machine Power OFF Time Today</p>
          </div>
        </div>
      </div>

      <!-- Charts Section -->
      <div class="charts-section">
        <div class="chart-box">
          <h4>Machine Operation Trend</h4>
          <canvas id="machineOperationChart"></canvas>
        </div>
        <div class="chart-box">
          <h4>Production in meters</h4>
          <canvas id="productionChart"></canvas>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- Without Order ID View (unchanged) -->
  <div *ngIf="selection === 'without'" class="without-order-id">
    <div class="date-range-inputs">
      <label>From: <input type="date" [(ngModel)]="fromDate" (change)="onDateChange()" /></label>
      <label>To: <input type="date" [(ngModel)]="toDate" (change)="onDateChange()" /></label>
    </div>

    <div class="cards-container">
      <div class="daily-card" *ngFor="let data of dailyCards">
        <h4>{{ data.date | date: 'yyyy-MM-dd' }}</h4>
        <p><strong>Order ID:</strong> {{ data.orderId }}</p>
        <p><strong>Product Code:</strong> {{ data.productCode }}</p>
        <p><strong>Product Description:</strong> {{ data.productDescription }}</p>
        <p><strong>Total Run Time:</strong> {{ data.totalRunTime }}</p>
        <p><strong>Down Time:</strong> {{ data.downTime }}</p>
        <p><strong>OEE:</strong> {{ data.oee }}</p>
      </div>
    </div>
  </div>
    

  </div>

</div>









<!-- <div class="machine-monitoring"> -->
  <!-- <h2>Machine Monitoring</h2>


  <div class="radio-buttons">
    <label>
      <input type="radio" name="mode" value="with" [(ngModel)]="selection" (change)="resetCharts()" />
      With Order ID
    </label>
    <label>
      <input type="radio" name="mode" value="without" [(ngModel)]="selection" (change)="resetCharts()" />
      Without Order ID
    </label>
  </div> -->

  <!-- Order ID Dropdown -->
  <!-- <div *ngIf="selection === 'with'" class="order-id-select">
    <label>Select Order ID:</label>
    <select [(ngModel)]="selectedOrderId" (change)="resetCharts()">
      <option value="">-- Select Order ID --</option>
      <option *ngFor="let id of orderIds" [value]="id">{{ id }}</option>
    </select>
  </div> -->

  <!-- With Order ID Dashboard -->
  <!-- <ng-container *ngIf="selection === 'with' && selectedOrderId">
    <div class="with-order-id">
      <div class="top-section">
        <div class="left-info">
          <h3>Machine</h3>
          <img [src]="machine.image" alt="Machine Image" class="machine-img" />
        </div>

        <div class="right-info">
         
          <div class="stat-box state-time-box">
            <h4>{{ machine.state }}</h4>
            <p>State Time: {{ machine.stateTime }}</p>
          </div>

          
          <div class="stat-box production-today">
            <h4>{{ machine.productionToday }} m</h4>
            <p>Production today</p>
          </div>
          <div class="stat-box">
            <h4>{{ machine.productionWeek }} m</h4>
            <p>Production this week (Mon–Sun)</p>
          </div>
          <div class="stat-box">
            <h4>{{ machine.productionMonth }} m</h4>
            <p>Production in current month</p>
          </div>
           <div class="stat-box ">
            <h4>{{ machine.shift }}</h4>
            <p>Manpower Current Working Shift</p>
          </div>
          <div class="stat-box run-state-box">
            <h4>{{ machine.runTime }}</h4>
            <p>Machine RUN Time Today</p>
          </div>

         
          <div class="stat-box orange">
            <h4>{{ machine.idleTime }}</h4>
            <p>Machine IDLE Time Today</p>
          </div>
          <div class="stat-box red">
            <h4>{{ machine.offTime }}</h4>
            <p>Machine Power OFF Time Today</p>
          </div>
        </div>
      </div>

      
      <div class="charts-section">
        <div class="chart-box">
          <h4>Machine Operation Trend</h4>
          <canvas id="machineOperationChart"></canvas>
        </div>
        <div class="chart-box">
          <h4>Production in meters</h4>
          <canvas id="productionChart"></canvas>
        </div>
      </div>
    </div>
  </ng-container> -->

  <!-- Without Order ID View (unchanged) -->
  <!-- <div *ngIf="selection === 'without'" class="without-order-id">
    <div class="date-range-inputs">
      <label>From: <input type="date" [(ngModel)]="fromDate" (change)="onDateChange()" /></label>
      <label>To: <input type="date" [(ngModel)]="toDate" (change)="onDateChange()" /></label>
    </div>

    <div class="cards-container">
      <div class="daily-card" *ngFor="let data of dailyCards">
        <h4>{{ data.date | date: 'yyyy-MM-dd' }}</h4>
        <p><strong>Order ID:</strong> {{ data.orderId }}</p>
        <p><strong>Product Code:</strong> {{ data.productCode }}</p>
        <p><strong>Product Description:</strong> {{ data.productDescription }}</p>
        <p><strong>Total Run Time:</strong> {{ data.totalRunTime }}</p>
        <p><strong>Down Time:</strong> {{ data.downTime }}</p>
        <p><strong>OEE:</strong> {{ data.oee }}</p>
      </div>
    </div>
  </div> -->
<!-- </div> -->
